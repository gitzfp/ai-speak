"use strict";const e=require("../../../common/vendor.js"),a=require("../../../api/chat.js"),n=require("../../../global/globalCount.hooks.js"),o=require("../../../utils/utils.js");require("../../../axios/api.js"),require("../../../config/env.js"),Math||(s+u+i+l+t)();const l=()=>"../../../components/AudioPlayer.js",s=()=>"../../../components/LoadingRound.js",t=()=>"../../../components/Speech.js",u=()=>"../../../components/Rate.js",i=()=>"./TextPronunciation.js",r=e.defineComponent({__name:"MessagePronunciation",props:{messageId:null,sessionId:null,messageContent:null,fileName:null},setup(l,{expose:s,emit:t}){const u=l,{globalUserInfo:i,globalLoading:r}=n.useUserInfo(),c=e.ref(!1),m=e.ref(null),v=e.ref(null),p=e=>{c.value=!0,m.value=null,a.chatRequest.messagePractice({message_id:u.messageId,file_name:e.fileName}).then((a=>{v.value=e.fileName,m.value=a.data})).finally((()=>{c.value=!1,console.log(c.value)}))},f=e=>{t("wordClick",e)};return s({initData:()=>{!m.value&&u.fileName&&(c.value=!0,a.chatRequest.pronunciationInvoke({message_id:u.messageId}).then((e=>{m.value=e.data})).finally((()=>{c.value=!1,console.log(c.value)})))}}),(a,n)=>e.e({a:c.value},(c.value,{}),{b:m.value},m.value?{c:e.p({rate:e.unref(o.utils).removeDecimal(m.value.pronunciation_score)})}:{},{d:m.value},(m.value,{}),{e:m.value},m.value?{f:e.o(f),g:e.p({content:l.messageContent,pronunciation:m.value})}:{},{h:e.unref(i).teacher_avatar||"/static/ai-robot.jpg",i:e.p({content:l.messageContent,sessionId:l.sessionId}),j:l.fileName},l.fileName?{k:e.p({fileName:v.value||l.fileName})}:{},{l:e.o(p)})}}),c=e._export_sfc(r,[["__scopeId","data-v-55c0c4c6"]]);wx.createComponent(c);
