"use strict";const e=require("../../common/vendor.js"),o=require("../../api/account.js"),t=require("../../api/chat.js");require("../../axios/api.js"),require("../../config/env.js"),Math||(n+a)();const n=()=>"../../components/CommonHeader.js",a=()=>"../../components/Checkbox.js",s=e.defineComponent({__name:"settings",setup(n){const a=e.ref({}),s=e.ref("");e.onLoad((o=>{e.index.setNavigationBarTitle({title:"AISPeak"}),s.value=o.sessionId})),e.onShow((()=>{o.accountRequest.getSettings().then((e=>{1e3===e.code&&(a.value=e.data)}))}));const c=()=>{e.index.navigateTo({url:"/pages/index/switchRole"})},i=()=>{e.index.navigateBack({delta:1})},l=e=>{a.value.playing_voice_speed=e,o.accountRequest.setSettings({playing_voice_speed:e}).then((e=>{console.log(e),1e3===e.code&&console.log("设置成功")}))},u=(e,t)=>{o.accountRequest.setSettings({[e]:t?1:0}).then((e=>{console.log(e),1e3===e.code&&console.log("设置成功")}))},d=()=>{e.index.showModal({title:"提示",content:"确定清空上一次聊天记录吗？",success:function(o){o.confirm?(console.log("用户点击确定"),t.chatRequest.messagesLatestDelete(s.value).then((o=>{console.log(o),e.index.showToast({title:"清空成功",icon:"none"}),e.index.navigateTo({url:`/pages/chat/index?sessionId=${s.value}`})}))):o.cancel&&console.log("用户点击取消")}})},g=()=>{e.index.showModal({title:"提示",content:"确定清空聊天记录吗？",success:function(o){o.confirm?(console.log("用户点击确定"),t.chatRequest.messagesAllDelete(s.value).then((o=>{console.log(o),e.index.showToast({title:"清空成功",icon:"none"}),e.index.navigateTo({url:`/pages/chat/index?sessionId=${s.value}`})}))):o.cancel&&console.log("用户点击取消")}})};return(o,t)=>({a:e.p({leftIcon:!0,"back-fn":i,title:"AISPeak"}),b:e.t(a.value.speech_role_name_label||"默认角色"),c:e.o(c),d:e.o((e=>u("auto_playing_voice",e))),e:e.p({checked:1===a.value.auto_playing_voice}),f:e.o((e=>u("auto_text_shadow",e))),g:e.p({checked:1===a.value.auto_text_shadow}),h:e.o((e=>u("auto_pronunciation",e))),i:e.p({checked:1===a.value.auto_pronunciation}),j:e.n("tab-item "+("0.5"==a.value.playing_voice_speed?"tab-item-select":"")),k:e.o((e=>l("0.5"))),l:e.n("tab-item "+("1.0"==a.value.playing_voice_speed?"tab-item-select":"")),m:e.o((e=>l("1.0"))),n:e.n("tab-item "+("1.5"==a.value.playing_voice_speed?"tab-item-select":"")),o:e.o((e=>l("1.5"))),p:e.o(d),q:e.o(g)})}}),c=e._export_sfc(s,[["__scopeId","data-v-e78c7a86"]]);wx.createPage(c);
