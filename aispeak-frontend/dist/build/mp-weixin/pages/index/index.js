"use strict";const e=require("../../common/vendor.js"),a=require("../../api/chat.js"),t=require("../../api/account.js"),n=require("../../api/sys.js");if(require("../../axios/api.js"),require("../../config/env.js"),!Array){e.resolveComponent("AudioPlayer")()}Math||l();const l=()=>"./components/Topics.js",s=e.defineComponent({__name:"index",setup(l){const s=e.ref([]),r=e.ref(0),o=e.ref(""),i=e.ref(""),u=e.ref(null),c=e.ref(0);e.onLoad((a=>{e.index.setNavigationBarTitle({title:"AISPeak"}),a.redirectType&&(u.value=a.redirectType)})),e.onShow((()=>{t.accountRequest.getSettings().then((e=>{i.value=e.data.target_language,d(),v()}))}));const d=()=>{a.chatRequest.languageExampleGet({language:i.value}).then((e=>{o.value=e.data}))},v=()=>{n.sysRequest.getRoles({locale:i.value}).then((a=>{s.value=a.data,t.accountRequest.getSettings().then((a=>{let t=a.data.speech_role_name;if(t){let e=s.value.findIndex((e=>e.short_name==t));e>-1&&(r.value=e)}e.nextTick$1((()=>{c.value=r.value}))}))}))},g=a=>{r.value=s.value.findIndex((e=>e.id===a.id)),e.index.navigateTo({url:"/pages/textbook/index"})};return(a,t)=>({a:e.f(s.value,((a,t,n)=>{var l;return e.e({a:a.avatar},a.avatar?{b:a.avatar}:(a.gender,{}),{c:"2"==a.gender,d:e.t(a.local_name),e:e.f(a.styles.slice(0,2),((a,t,n)=>({a:e.t(a.label||"默认"),b:a.value}))),f:a.styles.length>2},a.styles.length>2?{g:e.t(a.styles.length-2)}:{},{h:"102b784e-1-"+n,i:e.p({content:o.value,speechRoleName:a.short_name,speechRoleStyle:null==(l=a.styles[0])?void 0:l.value}),j:a.id,k:e.o((e=>g(a)),a.id)})}))})}}),r=e._export_sfc(s,[["__scopeId","data-v-102b784e"]]);wx.createPage(r);
