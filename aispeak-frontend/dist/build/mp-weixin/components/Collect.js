"use strict";const e=require("../common/vendor.js"),t=require("../api/account.js");require("../axios/api.js"),require("../config/env.js"),Math||n();const n=()=>"./LoadingRound.js",a=e.defineComponent({__name:"Collect",props:{type:null,messageId:null,content:null},setup(n){const a=n;getApp();const o=e.ref(!1),c=e.ref(!1),s={type:a.type,message_id:a.messageId?a.messageId:"",content:a.content?a.content:""};e.onMounted((()=>{a.messageId||a.content?t.accountRequest.collectGet(s).then((e=>{o.value=e.data.is_collect})):console.warn(`Collect组件需要传入messageId或content,当前传入的参数为${JSON.stringify(a)}`)}));const l=()=>{c.value||(c.value=!0,t.accountRequest.collect(s).then((()=>{o.value=!0,c.value=!1})))},u=()=>{c.value||(c.value=!0,t.accountRequest.cancelCollect(s).then((()=>{o.value=!1,c.value=!1})))};return(t,n)=>({a:c.value,b:e.o(l),c:!c.value&&!o.value,d:e.o(u),e:!c.value&&o.value})}}),o=e._export_sfc(a,[["__scopeId","data-v-5d3aa7a3"]]);wx.createComponent(o);
