"use strict";const e=require("../common/vendor.js"),t=require("../api/account.js");require("../axios/api.js"),require("../config/env.js"),Math||n();const n=()=>"./LoadingRound.js",o=e.defineComponent({__name:"Collect",props:{type:null,messageId:null,content:null},setup(n){const o=n;getApp();const c=e.ref(!1),a=e.ref(!1),s={type:o.type,message_id:o.messageId?o.messageId:"",content:o.content?o.content:""};e.onMounted((()=>{o.messageId||o.content?t.accountRequest.collectGet(s).then((e=>{c.value=e.data.is_collect})):console.warn(`Collect组件需要传入messageId或content,当前传入的参数为${JSON.stringify(o)}`)}));const l=()=>{a.value||(a.value=!0,t.accountRequest.collect(s).then((()=>{c.value=!0,a.value=!1})))},u=()=>{a.value||(a.value=!0,t.accountRequest.cancelCollect(s).then((()=>{c.value=!1,a.value=!1})))};return(t,n)=>({a:a.value,b:e.o(l),c:!a.value&&!c.value,d:e.o(u),e:!a.value&&c.value})}}),c=e._export_sfc(o,[["__scopeId","data-v-c3f6b35b"]]);wx.createComponent(c);
